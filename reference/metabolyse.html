<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Perform analyses containing multiple analysis element steps."><title>Perform an analysis — metabolyse • metabolyseR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Perform an analysis — metabolyse"><meta property="og:description" content="Perform analyses containing multiple analysis element steps."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">metabolyseR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.15.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/metabolyseR.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/pre_treatment.html">Metabolomics data pre-treatment</a>
    <a class="dropdown-item" href="../articles/modelling.html">Modelling and feature selection</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jasenfinch/metabolyseR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Perform an analysis</h1>
      <small class="dont-index">Source: <a href="https://github.com/jasenfinch/metabolyseR/blob/HEAD/R/metabolyse.R" class="external-link"><code>R/metabolyse.R</code></a></small>
      <div class="d-none name"><code>metabolyse.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Perform analyses containing multiple analysis element steps.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">metabolyse</span><span class="op">(</span><span class="va">data</span>, <span class="va">info</span>, parameters <span class="op">=</span> <span class="fu"><a href="analysisParameters.html">analysisParameters</a></span><span class="op">(</span><span class="op">)</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">reAnalyse</span><span class="op">(</span><span class="va">analysis</span>, parameters <span class="op">=</span> <span class="fu"><a href="analysisParameters.html">analysisParameters</a></span><span class="op">(</span><span class="op">)</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for Analysis</span></span>
<span><span class="fu">reAnalyse</span><span class="op">(</span><span class="va">analysis</span>, parameters <span class="op">=</span> <span class="fu"><a href="analysisParameters.html">analysisParameters</a></span><span class="op">(</span><span class="op">)</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>tibble or data.frame containing data to analyse</p></dd>


<dt>info</dt>
<dd><p>tibble or data.frame containing data info or meta data</p></dd>


<dt>parameters</dt>
<dd><p>an object of AnalysisParameters class containing
parameters for analysis. Default calls <code><a href="analysisParameters.html">analysisParameters()</a></code></p></dd>


<dt>verbose</dt>
<dd><p>should output be printed to the console</p></dd>


<dt>analysis</dt>
<dd><p>an object of class Analysis containing previous
analysis results</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An S4 object of class <code>Analysis</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Routine analyses are those that are often made up of numerous steps where parameters have likely already been previously established.
The emphasis here is on convenience with as little code as possible required.
In these analyses, the necessary analysis elements, order and parameters are first prepared and then the analysis routine subsequently performed in a single step.
The <code>metabolyse</code> function provides this utility, where the metabolome data, sample meta information and analysis parameters are provided.
The <code>reAnalyse</code> method can be used to perform further analyses on the results.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://aberhrml.github.io/metaboData/" class="external-link">metaboData</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Generate analysis parameters</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="analysisParameters.html">analysisParameters</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'pre-treatment'</span>,<span class="st">'modelling'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Alter pre-treatment and modelling parameters to use different methods</span></span></span>
<span class="r-in"><span><span class="fu"><a href="parameters.html">parameters</a></span><span class="op">(</span><span class="va">p</span>,<span class="st">'pre-treatment'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="pre-treatment-parameters.html">preTreatmentParameters</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>occupancyFilter <span class="op">=</span> <span class="st">'maximum'</span>,</span></span>
<span class="r-in"><span>       transform <span class="op">=</span> <span class="st">'TICnorm'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="parameters.html">parameters</a></span><span class="op">(</span><span class="va">p</span>,<span class="st">'modelling'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="modelling-parameters.html">modellingParameters</a></span><span class="op">(</span><span class="st">'anova'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Change "cls" parameters </span></span></span>
<span class="r-in"><span><span class="fu">changeParameter</span><span class="op">(</span><span class="va">p</span>,<span class="st">'cls'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">'day'</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Run analysis using a subset of the abr1 negative mode data set</span></span></span>
<span class="r-in"><span><span class="va">analysis</span> <span class="op">&lt;-</span> <span class="fu">metabolyse</span><span class="op">(</span><span class="va">abr1</span><span class="op">$</span><span class="va">neg</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">200</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                       <span class="va">abr1</span><span class="op">$</span><span class="va">fact</span>,</span></span>
<span class="r-in"><span>                       <span class="va">p</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">metabolyseR </span> <span style="color: #BB0000;">v0.15.0</span> Mon Feb 20 17:14:11 2023</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ________________________________________________________________________________</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Parameters:</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> pre-treatment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	occupancyFilter</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 		maximum</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 			cls = day</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 			occupancy = 2/3</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	transform</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 		TICnorm</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> modelling</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	anova</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 		cls = day</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 		pAdjust = bonferroni</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 		comparisons = list()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 		returnModels = FALSE</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ________________________________________________________________________________</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Pre-treatment </span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Pre-treatment </span>	<span style="color: #00BB00;">✔</span> [0.7S]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Modelling </span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Modelling </span>	<span style="color: #00BB00;">✔</span> [0.7S]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ________________________________________________________________________________</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">Complete! </span>[1.4S]</span>
<span class="r-in"><span>                       </span></span>
<span class="r-in"><span><span class="co">## Re-analyse to include correlation analysis</span></span></span>
<span class="r-in"><span><span class="va">analysis</span> <span class="op">&lt;-</span> <span class="fu">reAnalyse</span><span class="op">(</span><span class="va">analysis</span>,</span></span>
<span class="r-in"><span>                      parameters <span class="op">=</span> <span class="fu"><a href="analysisParameters.html">analysisParameters</a></span><span class="op">(</span><span class="st">'correlations'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">metabolyseR</span> <span style="color: #BB0000;">v0.15.0</span> Mon Feb 20 17:14:13 2023</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ________________________________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Parameters:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> correlations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	method = pearson</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	pAdjustMethod = bonferroni</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	corPvalue = 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	minCoef = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	maxCor = Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ________________________________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Correlations </span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Correlations </span>	<span style="color: #00BB00;">✔</span> [0.1S]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ________________________________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">Complete! </span>[0.1S]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">analysis</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">metabolyseR </span><span style="color: #BB0000; font-weight: bold;">v0.15.0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Analysis:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Mon Feb 20 17:14:11 2023</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Raw Data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		No. samples = 120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		No. features = 200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Pre-treated Data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		Mon Feb 20 17:14:12 2023</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		No. samples = 120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		No. features = 48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Modelling:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		Mon Feb 20 17:14:13 2023</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		Methods: anova</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Correlations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		Mon Feb 20 17:14:13 2023</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		No. correlations = 140</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Jasen Finch.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

