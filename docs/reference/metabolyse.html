<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Perform an analysis — metabolyse • metabolyseR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Perform an analysis — metabolyse" />
<meta property="og:description" content="Perform analyses containing multiple analysis element steps." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metabolyseR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.14.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/01_quick_start.html">Quick start example analysis</a>
    </li>
    <li>
      <a href="../articles/02_introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/03_pre_treatment.html">Metabolomics data pre-treatment</a>
    </li>
    <li>
      <a href="../articles/04_modelling.html">Modelling and feature selection</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jasenfinch/metabolyseR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Perform an analysis</h1>
    <small class="dont-index">Source: <a href='https://github.com/jasenfinch/metabolyseR/blob/master/R/metabolyse.R'><code>R/metabolyse.R</code></a></small>
    <div class="hidden name"><code>metabolyse.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Perform analyses containing multiple analysis element steps.</p>
    </div>

    <pre class="usage"><span class='fu'>metabolyse</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>info</span>, parameters <span class='op'>=</span> <span class='fu'><a href='analysisParameters.html'>analysisParameters</a></span><span class='op'>(</span><span class='op'>)</span>, verbose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>reAnalyse</span><span class='op'>(</span><span class='va'>analysis</span>, parameters <span class='op'>=</span> <span class='fu'><a href='analysisParameters.html'>analysisParameters</a></span><span class='op'>(</span><span class='op'>)</span>, verbose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># S4 method for Analysis</span>
<span class='fu'>reAnalyse</span><span class='op'>(</span><span class='va'>analysis</span>, parameters <span class='op'>=</span> <span class='fu'><a href='analysisParameters.html'>analysisParameters</a></span><span class='op'>(</span><span class='op'>)</span>, verbose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>tibble or data.frame containing data to analyse</p></td>
    </tr>
    <tr>
      <th>info</th>
      <td><p>tibble or data.frame containing data info or meta data</p></td>
    </tr>
    <tr>
      <th>parameters</th>
      <td><p>an object of AnalysisParameters class containing
parameters for analysis. Default calls <code><a href='analysisParameters.html'>analysisParameters()</a></code></p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>should output be printed to the console</p></td>
    </tr>
    <tr>
      <th>analysis</th>
      <td><p>an object of class Analysis containing previous
analysis results</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An S4 object of class <code>Analysis</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Routine analyses are those that are often made up of numerous steps where parameters have likely already been previously established.
The emphasis here is on convenience with as little code as possible required.
In these analyses, the necessary analysis elements, order and parameters are first prepared and then the analysis routine subsequently performed in a single step.
The <code>metabolyse</code> function provides this utility, where the metabolome data, sample meta information and analysis parameters are provided.
The <code>reAnalyse</code> method can be used to perform further analyses on the results.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://aberhrml.github.io/metaboData/'>metaboData</a></span><span class='op'>)</span>

<span class='co'>## Generate analysis parameters</span>
<span class='va'>p</span> <span class='op'>&lt;-</span> <span class='fu'><a href='analysisParameters.html'>analysisParameters</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'pre-treatment'</span>,<span class='st'>'modelling'</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>## Alter pre-treatment and modelling parameters to use different methods</span>
<span class='fu'><a href='parameters.html'>parameters</a></span><span class='op'>(</span><span class='va'>p</span>,<span class='st'>'pre-treatment'</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='preTreatmentElements.html'>preTreatmentParameters</a></span><span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>occupancyFilter <span class='op'>=</span> <span class='st'>'maximum'</span>,
       transform <span class='op'>=</span> <span class='st'>'TICnorm'</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'><a href='parameters.html'>parameters</a></span><span class='op'>(</span><span class='va'>p</span>,<span class='st'>'modelling'</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='modellingMethods.html'>modellingParameters</a></span><span class='op'>(</span><span class='st'>'anova'</span><span class='op'>)</span>

<span class='co'>## Change "cls" and "nCores" parameters </span>
<span class='fu'>changeParameter</span><span class='op'>(</span><span class='va'>p</span>,<span class='st'>'cls'</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='st'>'day'</span>
<span class='fu'>changeParameter</span><span class='op'>(</span><span class='va'>p</span>,<span class='st'>'nCores'</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fl'>2</span>

<span class='co'>## Run analysis using a subset of the abr1 negative mode data set</span>
<span class='va'>analysis</span> <span class='op'>&lt;-</span> <span class='fu'>metabolyse</span><span class='op'>(</span><span class='va'>abr1</span><span class='op'>$</span><span class='va'>neg</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>200</span><span class='op'>]</span>,
                       <span class='va'>abr1</span><span class='op'>$</span><span class='va'>fact</span>,
                       <span class='va'>p</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'><span style='color: #0000BB;'></span>
#&gt; <span class='message'>metabolyseR </span> <span style='color: #BB0000;'>v0.14.3</span> Tue Sep 14 10:06:18 2021</span></div><div class='output co'>#&gt; <span class='message'>________________________________________________________________________________</span></div><div class='output co'>#&gt; <span class='message'><span style='color: #BBBB00;'>Parameters:</span></span>
#&gt; <span class='message'>pre-treatment</span>
#&gt; <span class='message'>	occupancyFilter</span>
#&gt; <span class='message'>		maximum</span>
#&gt; <span class='message'>			cls = day</span>
#&gt; <span class='message'>			occupancy = 2/3</span>
#&gt; <span class='message'>	transform</span>
#&gt; <span class='message'>		TICnorm</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>modelling</span>
#&gt; <span class='message'>	anova</span>
#&gt; <span class='message'>		cls = day</span>
#&gt; <span class='message'>		pAdjust = bonferroni</span>
#&gt; <span class='message'>		comparisons = list()</span>
#&gt; <span class='message'>		returnModels = FALSE</span></div><div class='output co'>#&gt; <span class='message'>________________________________________________________________________________</span></div><div class='output co'>#&gt; <span class='message'><span style='color: #0000BB;'>Pre-treatment </span>…</span></div><div class='output co'>#&gt; <span class='message'><span style='color: #0000BB;'>Pre-treatment </span>	<span style='color: #00BB00;'>✓</span> [0.9S]</span></div><div class='output co'>#&gt; <span class='message'><span style='color: #0000BB;'>Modelling </span>…</span></div><div class='output co'>#&gt; <span class='message'><span style='color: #0000BB;'>Modelling </span>	<span style='color: #00BB00;'>✓</span> [0.6S]</span></div><div class='output co'>#&gt; <span class='message'>________________________________________________________________________________</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'><span style='color: #00BB00;'>Complete! </span>[1.6S]</span></div><div class='input'>                       
<span class='co'>## Re-analyse to include correlation analysis</span>
<span class='va'>analysis</span> <span class='op'>&lt;-</span> <span class='fu'>reAnalyse</span><span class='op'>(</span><span class='va'>analysis</span>,
                      parameters <span class='op'>=</span> <span class='fu'><a href='analysisParameters.html'>analysisParameters</a></span><span class='op'>(</span><span class='st'>'correlations'</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; <span style='color: #0000BB;'>metabolyseR</span> <span style='color: #BB0000;'>v0.14.3</span> Tue Sep 14 10:06:20 2021
#&gt; ________________________________________________________________________________
#&gt; <span style='color: #BBBB00;'>Parameters:</span>
#&gt; correlations
#&gt; 	method = pearson
#&gt; 	pAdjustMethod = bonferroni
#&gt; 	corPvalue = 0.05
#&gt; ________________________________________________________________________________
#&gt; </div><div class='output co'>#&gt; <span class='message'><span style='color: #0000BB;'>Correlations </span>…</span></div><div class='output co'>#&gt; <span class='message'><span style='color: #0000BB;'>Correlations </span>	<span style='color: #00BB00;'>✓</span> [0.1S]</span></div><div class='output co'>#&gt; ________________________________________________________________________________
#&gt; 
#&gt; <span style='color: #00BB00;'>Complete! </span>[0.1S]
#&gt; </div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>analysis</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; <span style='color: #0000BB;'>metabolyseR </span><span style='color: #BB0000; font-weight: bold;'>v0.14.3</span><span style='color: #BBBB00;'>
#&gt; Analysis:
#&gt; </span>	Tue Sep 14 10:06:18 2021
#&gt; 
#&gt; 	Raw Data:
#&gt; 		No. samples = 120
#&gt; 		No. features = 200
#&gt; 
#&gt; 	Pre-treated Data:
#&gt; 		Tue Sep 14 10:06:19 2021
#&gt; 		No. samples = 120
#&gt; 		No. features = 48
#&gt; 
#&gt; 	Modelling:
#&gt; 		Tue Sep 14 10:06:20 2021
#&gt; 		Methods: anova
#&gt; 
#&gt; 	Correlations:
#&gt; 		Tue Sep 14 10:06:20 2021
#&gt; 		No. correlations = 140</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jasen Finch.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


